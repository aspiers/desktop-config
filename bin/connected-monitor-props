#!/usr/bin/env python3

import argparse
import os
import sys

sys.path.append(os.getenv('HOME') + '/lib')

import libdpy

parser = argparse.ArgumentParser(
    description='Retrieve properties of connected monitors from inxi data'
)
parser.add_argument(
    'property',
    nargs='?',
    default='model',
    help='Property name to retrieve (default: model)'
)
args = parser.parse_args()

inxi_monitors = libdpy.get_inxi_monitors()
for monitor in inxi_monitors:
    value = monitor.get(args.property)
    if value:
        print(value)
