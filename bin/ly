#!/bin/bash

. $ZDOTDIR/lib/libhost.sh
read_localhost_nickname

case "$localhost_nickname" in
    celtic)
        if l39-monitor-connected; then
            echo "Detected LG as second monitor; using l39 layout"
            fluxbox-layout l39
            exit $?
        elif [ `monitors-connected` == 1 ]; then
            fluxbox-layout "$localhost_nickname"
            exit $?
        fi
        ;;
    ionian)
        if [ `monitors-connected` == 2 ]; then
            fluxbox-layout "$localhost_nickname"
            exit $?
        fi
        ;;
    aegean)
        if [ `monitors-connected` == 1 ]; then
            fluxbox-layout "$localhost_nickname"
            exit $?
        fi
        ;;
esac

echo >&2 "ERROR: Couldn't figure out which layout to apply for $localhost_nickname!"
exit 1
