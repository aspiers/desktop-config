#!/bin/bash

typeset -a dpy_geometry
#dpy_geometry=$( xwininfo -root | awk '/-geometry/ {print $2}' )
dpy_geometry=($( xprop -root -notype 32i ' $0 $1\n' _NET_DESKTOP_GEOMETRY ))

dpy_width=${dpy_geometry[1]}
dpy_height=${dpy_geometry[2]}

# Each char in smoothansi is 13 pixels high by 6 pixels wide.
font_char_width=6
font_char_height=13
# Take 10% of height:
watchlogs_height=$(( (dpy_height / 5) / font_char_height ))

# Maybe allow some space on the right for gkrellm
right_margin=0
#right_margin=90
watchlogs_width=$(( (dpy_width - right_margin) / font_char_width ))

font=smoothansi
urxvt -fn $font -fb $font +sk +sw +sb -name XTerm -tr -tint white -sh 70 -is -g ${watchlogs_width}x${watchlogs_height}+0-0 -e watchlogs ~/.watchlogs/system.d
#rxvt -fn $font +sk +sw -tr -g ${watchlogs_width}x${watchlogs_height}+0-0 -e watchlogs ~/.watchlogs/system.d
#aterm -fn $font -fb $font -tr -g ${watchlogs_width}x${watchlogs_height}+0-0 -e watchlogs ~/.watchlogs/system.d
#Eterm -t watchlogs-system -g ${watchlogs_width}x${watchlogs_height}+0-0
